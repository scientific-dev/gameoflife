var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function o(t,e,n){t.insertBefore(e,n||null)}function r(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function f(){return h(" ")}function u(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t){return""===t?null:+t}function p(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e){t.value=null==e?"":e}let v;function w(t){v=t}function b(t){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.on_mount.push(t)}const y=[],x=[],$=[],E=[],S=Promise.resolve();let L=!1;function k(t){$.push(t)}const _=new Set;let C=0;function G(){const t=v;do{for(;C<y.length;){const t=y[C];C++,w(t),M(t.$$)}for(w(null),y.length=0,C=0;x.length;)x.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];_.has(e)||(_.add(e),e())}$.length=0}while(y.length);for(;E.length;)E.pop()();L=!1,_.clear(),w(t)}function M(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const Y=new Set;function X(t,e){t&&t.i&&(Y.delete(t),t.i(e))}function O(t,n,l,a){const{fragment:o,on_mount:r,on_destroy:c,after_update:h}=t.$$;o&&o.m(n,l),a||k((()=>{const n=r.map(e).filter(s);c?c.push(...n):i(n),t.$$.on_mount=[]})),h.forEach(k)}function z(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function R(t,e){-1===t.$$.dirty[0]&&(y.push(t),L||(L=!0,S.then(G)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function T(e,s,l,a,o,c,h,f=[-1]){const u=v;w(e);const d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:o,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(u?u.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:s.target||u.$$.root};h&&h(d.root);let m=!1;if(d.ctx=l?l(e,s.props||{},((t,n,...i)=>{const s=i.length?i[0]:n;return d.ctx&&o(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),m&&R(e,t)),n})):[],d.update(),m=!0,i(d.before_update),d.fragment=!!a&&a(d.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);d.fragment&&d.fragment.l(t),t.forEach(r)}else d.fragment&&d.fragment.c();s.intro&&X(e.$$.fragment),O(e,s.target,s.anchor,s.customElement),G()}w(u)}class D{$destroy(){z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class A{data={};cellSize=50;initialRow=0;initialColumn=0;generations=0;rows=0;columns=0;speed=1500;offsetX=0;offsetY=0;scrollOffset=40;running=!1;drawLines=!0;onEachGen=()=>{};constructor(t=new HTMLCanvasElement){this.canvas=t,this.ctx=t.getContext("2d"),this.resize(),t.onmousedown=({pageX:e,pageY:n})=>{let i=e,s=n;const l=e=>{let n=this.offset,l=this.scrollOffset;this.offsetX+=i-e.pageX,this.offsetY+=s-e.pageY,this.offsetX=Math.max(-l,Math.min(this.offsetX,this.columns*n-t.width+l)),this.offsetY=Math.max(-l,Math.min(this.offsetY,this.rows*n-t.height+l)),i=e.pageX,s=e.pageY,this.fillBg().drawGame().plotFromData(this.data),this.canvas.style.cursor="grabbing"},a=()=>{t.removeEventListener("mousemove",l),t.removeEventListener("mouseup",a),this.canvas.style.cursor="default"};t.addEventListener("mousemove",l),t.addEventListener("mouseup",a)},t.onclick=t=>{if(this.running)return;let e=this.cellSize+this.ctx.lineWidth,n=Math.floor((t.pageX+this.offsetX)/e),i=Math.floor((t.pageY+this.offsetY)/e);n<0||i<0||this.columns>n&&this.rows>i&&this.plot(n,i)}}get offset(){return this.cellSize+this.ctx.lineWidth}fillBg(){return this.ctx.fillStyle="#18181d",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fill(),this}drawGame(){if(!this.drawLines)return this;let t=this.offset,e=this.columns*t,n=this.rows*t;for(let e=0;e<=this.columns;e++)this.drawLine(e*t,0,e*t,n);for(let n=0;n<=this.rows;n++)this.drawLine(0,n*t,e,n*t);return this}drawLine(t,e,n,i){this.ctx.strokeStyle="#ffffff",this.ctx.beginPath(),this.ctx.moveTo(t-this.offsetX,e-this.offsetY),this.ctx.lineTo(n-this.offsetX,i-this.offsetY),this.ctx.stroke()}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.ctx.lineWidth=this.drawLines?this.cellSize>20?1:.5:0,this.rows||this.columns||(this.rows=Math.ceil(window.innerHeight/this.offset),this.columns=Math.ceil(window.innerWidth/this.offset)),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.fillBg().drawGame().plotFromData(this.data)}plot(t,e){let n=this.data[e]||(this.data[e]=new Set),i=!n.has(t);n[i?"add":"delete"](t),this.fillCell(t,e,i?"#ffffff":"#18181d")}plotFromData(t){let e=Object.entries(t);for(let t=0;t<e.length;t++){let[n,i]=e[t];for(let t of i)this.fillCell(t,n,"#ffffff")}}fillCell(t,e,n){let i=this.offset,s=this.ctx.lineWidth;this.ctx.fillStyle=n,this.ctx.fillRect(t*i+s-this.offsetX,e*i+s-this.offsetY,this.cellSize-s,this.cellSize-s),this.ctx.fill()}nextGeneration(){let t={},e=new Set,n=new Set,i=this.data[0]||new Set;for(let s=0;s<this.rows;s++){let l=new Set(i),a=0,o=0,r=l.has(0);n=i,i=this.data[s+1]||new Set;for(let t=0;t<this.columns;t++){o=r,r=l.has(t+1);let n=a+r;for(let s=-1;s<2;s++)n+=e.has(t+s)+i.has(t+s);3==n?(l.add(t),this.fillCell(t,s,"#ffffff")):2!=n&&(l.delete(t),this.fillCell(t,s,"#18181d")),a=o}t[s]=l,e=n}this.data=t,this.generations+=1,this.onEachGen()}async start(){for(this.running=!0;this.running;)this.nextGeneration(),await new Promise((t=>setTimeout(t,this.speed)))}stop(){this.running=!1}insertRawData(t){this.data=Object.fromEntries(Object.entries(t).map((([t,e])=>[t,new Set(e)]))),this.plotFromData(this.data)}getRawData(){return JSON.stringify(Object.fromEntries(Object.entries(this.data).map((([t,e])=>[t,Array(...e)]))))}plotExample(t){this.insertRawData(N[t])}plotRandom(){for(let t=0;t<this.rows;t++){let e=new Set;for(let t=0;t<this.columns;t++)Math.floor(2*Math.random())&&e.add(t);this.data[t]=e}this.plotFromData(this.data)}}const N={GOSPER_GLIDER_GUN:{1:[24],2:[22,24],3:[12,13,20,21,34,35],4:[11,15,20,21,34,35],5:[0,1,10,16,21,20],6:[0,1,10,14,16,17,22,24],7:[10,16,24],8:[11,15],9:[12,13]}};function W(e){let n,s,l,a,h;return{c(){n=c("a"),n.textContent="Next",s=f(),l=c("a"),l.textContent="Clear",d(n,"href","#start"),d(n,"class","svelte-13ldhla"),d(l,"href","#start"),d(l,"class","svelte-13ldhla")},m(t,i){o(t,n,i),o(t,s,i),o(t,l,i),a||(h=[u(n,"click",e[8]),u(l,"click",e[9])],a=!0)},p:t,d(t){t&&r(n),t&&r(s),t&&r(l),a=!1,i(h)}}}function j(t){let e,n,s,l,m,p,g,v,w,b,y,x,$,E,S,L,k,_,C,G,M,Y,X,O,z,R,T,D,A,N,W,j,K,B,F,H,I,P=(new Date).getFullYear()+"";return{c(){var t,i,a;e=c("div"),n=c("h2"),n.textContent="Game of Life",s=f(),l=c("p"),l.innerHTML='The Game of Life, also known simply as Life, is a cellular automaton devised by the British mathematician John Horton Conway in 1970. It is a zero-player game, meaning that its evolution is determined by its initial state, requiring no further input. One interacts with the Game of Life by creating an initial configuration and observing how it evolves. It is Turing complete and can simulate a universal constructor or any other Turing machine.\n            More in <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life" target="_blank" class="svelte-13ldhla">Wikipedia</a>.',m=f(),p=c("h3"),p.textContent="Rules",g=f(),v=c("ol"),v.innerHTML="<li>Each cell has 8 neighbours surrounding it.</li> \n            <li>Coloured cells represents that the cell is alive while uncoloured cells represents that the cell is dead.</li> \n            <li>Any live cell with fewer than two live neighbours dies, as if by underpopulation.</li> \n            <li>Any live cell with two or three live neighbours lives on to the next generation.</li> \n            <li>Any live cell with more than three live neighbours dies, as if by overpopulation.</li> \n            <li>Any dead cell with exactly three live neighbours becomes a live cell, as if by reproduction.</li>",w=f(),b=c("h3"),b.textContent="Examples:",y=f(),x=c("div"),$=c("a"),$.textContent="Gosper Glider Gun",E=f(),S=c("a"),S.textContent="Random",L=f(),k=c("h3"),k.textContent="Additional Settings",_=f(),C=c("div"),G=c("input"),M=f(),Y=c("label"),Y.textContent="Lines",X=f(),O=c("br"),z=f(),R=c("a"),R.textContent="Close",T=f(),D=c("hr"),A=f(),N=c("p"),W=h("Made by "),j=c("a"),j.textContent="TheSudarsanDev",K=c("br"),B=h("\r\n            TheSudarsanDev Â© "),F=h(P),d(n,"class","svelte-13ldhla"),d($,"class","info-btn svelte-13ldhla"),d($,"href","#start"),d(S,"class","info-btn svelte-13ldhla"),d(S,"href","#start"),t="margin-left",i="10px",x.style.setProperty(t,i,a?"important":""),d(x,"class","svelte-13ldhla"),d(G,"type","checkbox"),d(G,"name","lines"),d(G,"class","svelte-13ldhla"),d(Y,"for","lines"),d(C,"class","svelte-13ldhla"),d(R,"class","info-btn svelte-13ldhla"),d(R,"href","#default"),d(j,"target","_blank"),d(j,"href","https://github.com/scientific-dev"),d(j,"class","svelte-13ldhla"),d(e,"class","infotab float svelte-13ldhla")},m(i,r){o(i,e,r),a(e,n),a(e,s),a(e,l),a(e,m),a(e,p),a(e,g),a(e,v),a(e,w),a(e,b),a(e,y),a(e,x),a(x,$),a(x,E),a(x,S),a(e,L),a(e,k),a(e,_),a(e,C),a(C,G),G.checked=t[0].drawLines,a(C,M),a(C,Y),a(e,X),a(e,O),a(e,z),a(e,R),a(e,T),a(e,D),a(e,A),a(e,N),a(N,W),a(N,j),a(N,K),a(N,B),a(N,F),H||(I=[u($,"click",t[14]),u(S,"click",t[15]),u(G,"change",t[16]),u(R,"click",t[17])],H=!0)},p(t,e){1&e&&(G.checked=t[0].drawLines)},d(t){t&&r(e),H=!1,i(I)}}}function K(e){let n,s,l,v,w,b,y,x,$,E,S,L,k,_,C,G,M,Y,X,O,z,R,T,D,A,N,K,B,F,H,I,P,q,J=e[0].running?"Stop":"Start",U=!e[0].running&&W(e),Q=e[5]&&j(e);return{c(){n=c("div"),s=c("canvas"),l=f(),v=c("h1"),v.textContent="Game of Life",w=f(),b=c("div"),y=c("a"),x=h(J),$=f(),U&&U.c(),E=f(),S=c("a"),L=h("Speed: "),k=c("input"),_=h("s"),C=f(),G=c("a"),M=h("Size: "),Y=c("input"),X=f(),O=c("a"),z=h("Grids: "),R=c("input"),T=f(),D=c("span"),A=h("Generations: "),N=h(e[4]),K=f(),B=c("a"),B.textContent="i",H=f(),Q&&Q.c(),I=h(""),d(s,"id","canvas"),d(s,"width",window.innerWidth),d(s,"height",window.innerHeight),d(s,"class","svelte-13ldhla"),d(v,"class","float svelte-13ldhla"),d(y,"href","#start"),d(y,"class","svelte-13ldhla"),d(k,"type","number"),d(k,"min","0.1"),d(k,"class","svelte-13ldhla"),d(S,"href","#start"),d(S,"class","svelte-13ldhla"),d(Y,"type","number"),d(Y,"min","5"),d(Y,"class","svelte-13ldhla"),d(G,"href","#start"),d(G,"class","svelte-13ldhla"),d(R,"class","svelte-13ldhla"),d(O,"href","#start"),d(O,"class","svelte-13ldhla"),d(D,"class","svelte-13ldhla"),d(B,"href","#info"),d(B,"class","svelte-13ldhla"),d(b,"class","float panel svelte-13ldhla"),d(n,"style",F=e[5]?"opacity: 0.7;":"")},m(t,i){o(t,n,i),a(n,s),a(n,l),a(n,v),a(n,w),a(n,b),a(b,y),a(y,x),a(b,$),U&&U.m(b,null),a(b,E),a(b,S),a(S,L),a(S,k),g(k,e[1]),a(S,_),a(b,C),a(b,G),a(G,M),a(G,Y),g(Y,e[2]),a(b,X),a(b,O),a(O,z),a(O,R),g(R,e[3]),a(b,T),a(b,D),a(D,A),a(D,N),a(b,K),a(b,B),o(t,H,i),Q&&Q.m(t,i),o(t,I,i),P||(q=[u(y,"click",e[7]),u(k,"input",e[10]),u(Y,"input",e[11]),u(R,"input",e[12]),u(B,"click",e[13])],P=!0)},p(t,[e]){1&e&&J!==(J=t[0].running?"Stop":"Start")&&p(x,J),t[0].running?U&&(U.d(1),U=null):U?U.p(t,e):(U=W(t),U.c(),U.m(b,E)),2&e&&m(k.value)!==t[1]&&g(k,t[1]),4&e&&m(Y.value)!==t[2]&&g(Y,t[2]),8&e&&R.value!==t[3]&&g(R,t[3]),16&e&&p(N,t[4]),32&e&&F!==(F=t[5]?"opacity: 0.7;":"")&&d(n,"style",F),t[5]?Q?Q.p(t,e):(Q=j(t),Q.c(),Q.m(I.parentNode,I)):Q&&(Q.d(1),Q=null)},i:t,o:t,d(t){t&&r(n),U&&U.d(),t&&r(H),Q&&Q.d(t),t&&r(I),P=!1,i(q)}}}function B(t,e,n){let i={running:!1,rows:10,columns:10,scrollOffset:40},s=0,l=1.5,a=50,o="0x0",r=!1;function c(t){t(),n(0,i),n(1,l),n(2,a),n(3,o),n(4,s=0),n(5,r=!1)}b((()=>{let t=()=>n(0,i.scrollOffset=window.innerWidth>1024?40:150,i);n(0,i=new A(document.getElementById("canvas"))),n(0,i.onEachGen=()=>n(4,s=i.generations),i),window.board=i,window.addEventListener("resize",(()=>{i.resize(),t()})),n(1,l=i.speed/1e3),n(2,a=i.cellSize),n(3,o=`${i.rows}x${i.columns}`),function(t){function e(e){if(e.target.matches(t)){var n;switch(e.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":case"touchcancel":n="mouseup";break;default:return}var i=e.changedTouches[0],s=i.clientX,l=i.pageX,a=window.pageXOffset,o=i.clientY,r=i.pageY,c=window.pageYOffset;0===l&&Math.floor(s)>Math.floor(l)||0===r&&Math.floor(o)>Math.floor(r)?(s-=a,o-=c):(s<l-a||o<r-c)&&(s=l-a,o=r-c);var h=new MouseEvent(n,{bubbles:!0,cancelable:!0,screenX:i.screenX,screenY:i.screenY,clientX:s,clientY:o,pageX:l,pageY:r,buttons:1,button:0,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey});i.target.dispatchEvent(h)}}document.addEventListener("touchstart",e,!0),document.addEventListener("touchmove",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("touchcancel",e,!0)}("canvas"),t()}));return t.$$.update=()=>{if(2&t.$$.dirty&&n(0,i.speed=1e3*l,i),5&t.$$.dirty&&(n(0,i.cellSize=a,i),i.resize?.()),9&t.$$.dirty){let t=(t,e)=>isNaN(t=parseInt(t))?e:t,[e,s]=o.split("x");n(0,i.rows=t(e,i.rows),i),n(0,i.columns=t(s,i.columns),i),i.resize?.()}},[i,l,a,o,s,r,c,()=>{i[i.running?"stop":"start"](),n(0,i),n(1,l),n(2,a),n(3,o)},()=>i.nextGeneration(),()=>i.fillBg().drawGame(),function(){l=m(this.value),n(1,l)},function(){a=m(this.value),n(2,a)},function(){o=this.value,n(3,o)},()=>n(5,r=!0),()=>c((()=>{i.plotExample("GOSPER_GLIDER_GUN"),n(3,o="50x50")})),()=>c((()=>i.plotRandom())),function(){i.drawLines=this.checked,n(0,i),n(1,l),n(2,a),n(3,o)},()=>n(5,r=!1)]}class F extends D{constructor(t){super(),T(this,t,B,K,l,{})}}function H(e){let n,i,s;return i=new F({}),{c(){var t;n=c("div"),(t=i.$$.fragment)&&t.c(),d(n,"class","main svelte-1sesw7b")},m(t,e){o(t,n,e),O(i,n,null),s=!0},p:t,i(t){s||(X(i.$$.fragment,t),s=!0)},o(t){!function(t,e,n,i){if(t&&t.o){if(Y.has(t))return;Y.add(t),(void 0).c.push((()=>{Y.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}(i.$$.fragment,t),s=!1},d(t){t&&r(n),z(i)}}}return new class extends D{constructor(t){super(),T(this,t,null,H,l,{})}}({target:document.body})}();

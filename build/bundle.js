var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function s(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function r(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function f(){return h(" ")}function u(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t){return""===t?null:+t}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function p(t,e){t.value=null==e?"":e}function g(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}let w;function y(t){w=t}function b(t){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(t)}const x=[],$=[],E=[],S=[],j=Promise.resolve();let _=!1;function k(t){E.push(t)}const C=new Set;let G=0;function L(){const t=w;do{for(;G<x.length;){const t=x[G];G++,y(t),M(t.$$)}for(y(null),x.length=0,G=0;$.length;)$.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];C.has(e)||(C.add(e),e())}E.length=0}while(x.length);for(;S.length;)S.pop()();_=!1,C.clear(),y(t)}function M(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}const Y=new Set;function X(t,e){t&&t.i&&(Y.delete(t),t.i(e))}function O(t,n,o,l){const{fragment:a,on_mount:r,on_destroy:c,after_update:h}=t.$$;a&&a.m(n,o),l||k((()=>{const n=r.map(e).filter(s);c?c.push(...n):i(n),t.$$.on_mount=[]})),h.forEach(k)}function z(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function R(t,e){-1===t.$$.dirty[0]&&(x.push(t),_||(_=!0,j.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function T(e,s,o,l,a,c,h,f=[-1]){const u=w;y(e);const d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(u?u.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:s.target||u.$$.root};h&&h(d.root);let v=!1;if(d.ctx=o?o(e,s.props||{},((t,n,...i)=>{const s=i.length?i[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),v&&R(e,t)),n})):[],d.update(),v=!0,i(d.before_update),d.fragment=!!l&&l(d.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);d.fragment&&d.fragment.l(t),t.forEach(r)}else d.fragment&&d.fragment.c();s.intro&&X(e.$$.fragment),O(e,s.target,s.anchor,s.customElement),L()}y(u)}class D{$destroy(){z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class N{data={};cellSize=50;initialRow=0;initialColumn=0;generations=0;rows=0;columns=0;speed=1500;offsetX=0;offsetY=0;scrollOffset=40;running=!1;onEachGen=()=>{};constructor(t=new HTMLCanvasElement){this.canvas=t,this.ctx=t.getContext("2d"),this.resize(),t.onmousedown=({pageX:e,pageY:n})=>{let i=e,s=n;const o=e=>{let n=this.offset,o=this.scrollOffset;this.offsetX+=i-e.pageX,this.offsetY+=s-e.pageY,this.offsetX=Math.max(-o,Math.min(this.offsetX,this.columns*n-t.width+o)),this.offsetY=Math.max(-o,Math.min(this.offsetY,this.rows*n-t.height+o)),i=e.pageX,s=e.pageY,this.fillBg().drawGame().plotFromData(this.data),this.canvas.style.cursor="grabbing"},l=()=>{t.removeEventListener("mousemove",o),t.removeEventListener("mouseup",l),this.canvas.style.cursor="default"};t.addEventListener("mousemove",o),t.addEventListener("mouseup",l)},t.onclick=t=>{if(this.running)return;let e=this.cellSize+this.ctx.lineWidth,n=Math.floor((t.pageX+this.offsetX)/e),i=Math.floor((t.pageY+this.offsetY)/e);n<0||i<0||this.columns>n&&this.rows>i&&this.plot(n,i)}}get offset(){return this.cellSize+this.ctx.lineWidth}fillBg(){return this.ctx.fillStyle="#18181d",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fill(),this}drawGame(){let t=this.offset,e=this.columns*t,n=this.rows*t;for(let e=0;e<=this.columns;e++)this.drawLine(e*t,0,e*t,n);for(let n=0;n<=this.rows;n++)this.drawLine(0,n*t,e,n*t);return this}drawLine(t,e,n,i){this.ctx.strokeStyle="#ffffff",this.ctx.beginPath(),this.ctx.moveTo(t-this.offsetX,e-this.offsetY),this.ctx.lineTo(n-this.offsetX,i-this.offsetY),this.ctx.stroke()}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.ctx.lineWidth=this.cellSize>20?1:.5,this.rows||this.columns||(this.rows=Math.ceil(window.innerHeight/this.offset),this.columns=Math.ceil(window.innerWidth/this.offset)),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.fillBg().drawGame().plotFromData(this.data)}plot(t,e){let n=this.data[e]||(this.data[e]=new Set),i=!n.has(t);n[i?"add":"delete"](t),this.fillCell(t,e,i?"#ffffff":"#18181d")}plotFromData(t){let e=Object.entries(t);for(let t=0;t<e.length;t++){let[n,i]=e[t];for(let t of i)this.fillCell(t,n,"#ffffff")}}fillCell(t,e,n){let i=this.offset,s=this.ctx.lineWidth;this.ctx.fillStyle=n,this.ctx.fillRect(t*i+s-this.offsetX,e*i+s-this.offsetY,this.cellSize-s,this.cellSize-s),this.ctx.fill()}nextGeneration(){let t={},e=new Set,n=new Set,i=this.data[0]||new Set;for(let s=0;s<this.rows;s++){let o=new Set(i),l=0,a=0,r=o.has(0);n=i,i=this.data[s+1]||new Set;for(let t=0;t<this.columns;t++){a=r,r=o.has(t+1);let n=l+r;for(let s=-1;s<2;s++)n+=e.has(t+s)+i.has(t+s);3==n?(o.add(t),this.fillCell(t,s,"#ffffff")):2!=n&&(o.delete(t),this.fillCell(t,s,"#18181d")),l=a}t[s]=o,e=n}this.data=t,this.generations+=1,this.onEachGen()}async start(){for(this.running=!0;this.running;)this.nextGeneration(),await new Promise((t=>setTimeout(t,this.speed)))}stop(){this.running=!1}insertRawData(t){this.data=Object.fromEntries(Object.entries(t).map((([t,e])=>[t,new Set(e)]))),this.plotFromData(this.data)}getRawData(){return JSON.stringify(Object.fromEntries(Object.entries(this.data).map((([t,e])=>[t,Array(...e)]))))}plotExample(t){this.insertRawData(A[t])}plotRandom(){for(let t=0;t<this.rows;t++){let e=new Set;for(let t=0;t<this.columns;t++)Math.floor(2*Math.random())&&e.add(t);this.data[t]=e}this.plotFromData(this.data)}}const A={GOSPER_GLIDER_GUN:{1:[24],2:[22,24],3:[12,13,20,21,34,35],4:[11,15,20,21,34,35],5:[0,1,10,16,21,20],6:[0,1,10,14,16,17,22,24],7:[10,16,24],8:[11,15],9:[12,13]}};function W(e){let n,s,o,l,h;return{c(){n=c("a"),n.textContent="Next",s=f(),o=c("a"),o.textContent="Clear",d(n,"href","#start"),d(n,"class","svelte-1j0v8vl"),d(o,"href","#start"),d(o,"class","svelte-1j0v8vl")},m(t,i){a(t,n,i),a(t,s,i),a(t,o,i),l||(h=[u(n,"click",e[8]),u(o,"click",e[9])],l=!0)},p:t,d(t){t&&r(n),t&&r(s),t&&r(o),l=!1,i(h)}}}function K(e){let n,s,o,v,m,p,w,y,b,x,$,E,S,j,_,k,C,G,L,M,Y,X,O,z,R,T,D,N,A,W,K=(new Date).getFullYear()+"";return{c(){n=c("div"),s=c("h2"),s.textContent="Game of Life",o=f(),v=c("p"),v.innerHTML='The Game of Life, also known simply as Life, is a cellular automaton devised by the British mathematician John Horton Conway in 1970. It is a zero-player game, meaning that its evolution is determined by its initial state, requiring no further input. One interacts with the Game of Life by creating an initial configuration and observing how it evolves. It is Turing complete and can simulate a universal constructor or any other Turing machine.\n            More in <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life" target="_blank" class="svelte-1j0v8vl">Wikipedia</a>.',m=f(),p=c("h3"),p.textContent="Rules",w=f(),y=c("ol"),y.innerHTML="<li>Each cell has 8 neighbours surrounding it.</li> \n            <li>Coloured cells represents that the cell is alive while uncoloured cells represents that the cell is dead.</li> \n            <li>Any live cell with fewer than two live neighbours dies, as if by underpopulation.</li> \n            <li>Any live cell with two or three live neighbours lives on to the next generation.</li> \n            <li>Any live cell with more than three live neighbours dies, as if by overpopulation.</li> \n            <li>Any dead cell with exactly three live neighbours becomes a live cell, as if by reproduction.</li>",b=f(),x=c("h3"),x.textContent="Examples:",$=f(),E=c("div"),S=c("a"),S.textContent="Gosper Glider Gun",j=f(),_=c("a"),_.textContent="Random",k=f(),C=c("br"),G=f(),L=c("a"),L.textContent="Close",M=f(),Y=c("hr"),X=f(),O=c("p"),z=h("Made by "),R=c("a"),R.textContent="TheSudarsanDev",T=c("br"),D=h("\r\n            TheSudarsanDev Â© "),N=h(K),d(s,"class","svelte-1j0v8vl"),d(S,"class","info-btn svelte-1j0v8vl"),d(S,"href","#start"),d(_,"class","info-btn svelte-1j0v8vl"),d(_,"href","#start"),g(E,"margin-left","10px"),g(E,"margin-top","-10px"),d(L,"class","info-btn svelte-1j0v8vl"),d(L,"href","#default"),d(R,"target","_blank"),d(R,"href","https://github.com/scientific-dev"),d(R,"class","svelte-1j0v8vl"),d(n,"class","infotab float svelte-1j0v8vl")},m(t,i){a(t,n,i),l(n,s),l(n,o),l(n,v),l(n,m),l(n,p),l(n,w),l(n,y),l(n,b),l(n,x),l(n,$),l(n,E),l(E,S),l(E,j),l(E,_),l(n,k),l(n,C),l(n,G),l(n,L),l(n,M),l(n,Y),l(n,X),l(n,O),l(O,z),l(O,R),l(O,T),l(O,D),l(O,N),A||(W=[u(S,"click",e[14]),u(_,"click",e[15]),u(L,"click",e[16])],A=!0)},p:t,d(t){t&&r(n),A=!1,i(W)}}}function B(e){let n,s,o,g,w,y,b,x,$,E,S,j,_,k,C,G,L,M,Y,X,O,z,R,T,D,N,A,B,F,H,I,P,q,J=e[0].running?"Stop":"Start",U=!e[0].running&&W(e),Q=e[5]&&K(e);return{c(){n=c("div"),s=c("canvas"),o=f(),g=c("h1"),g.textContent="Game of Life",w=f(),y=c("div"),b=c("a"),x=h(J),$=f(),U&&U.c(),E=f(),S=c("a"),j=h("Speed: "),_=c("input"),k=h("s"),C=f(),G=c("a"),L=h("Size: "),M=c("input"),Y=f(),X=c("a"),O=h("Grids: "),z=c("input"),R=f(),T=c("span"),D=h("Generations: "),N=h(e[4]),A=f(),B=c("a"),B.textContent="i",H=f(),Q&&Q.c(),I=h(""),d(s,"id","canvas"),d(s,"width",window.innerWidth),d(s,"height",window.innerHeight),d(s,"class","svelte-1j0v8vl"),d(g,"class","float svelte-1j0v8vl"),d(b,"href","#start"),d(b,"class","svelte-1j0v8vl"),d(_,"type","number"),d(_,"min","0.1"),d(_,"class","svelte-1j0v8vl"),d(S,"href","#start"),d(S,"class","svelte-1j0v8vl"),d(M,"type","number"),d(M,"min","5"),d(M,"class","svelte-1j0v8vl"),d(G,"href","#start"),d(G,"class","svelte-1j0v8vl"),d(z,"class","svelte-1j0v8vl"),d(X,"href","#start"),d(X,"class","svelte-1j0v8vl"),d(T,"class","svelte-1j0v8vl"),d(B,"href","#info"),d(B,"class","svelte-1j0v8vl"),d(y,"class","float panel svelte-1j0v8vl"),d(n,"style",F=e[5]?"opacity: 0.7;":"")},m(t,i){a(t,n,i),l(n,s),l(n,o),l(n,g),l(n,w),l(n,y),l(y,b),l(b,x),l(y,$),U&&U.m(y,null),l(y,E),l(y,S),l(S,j),l(S,_),p(_,e[1]),l(S,k),l(y,C),l(y,G),l(G,L),l(G,M),p(M,e[2]),l(y,Y),l(y,X),l(X,O),l(X,z),p(z,e[3]),l(y,R),l(y,T),l(T,D),l(T,N),l(y,A),l(y,B),a(t,H,i),Q&&Q.m(t,i),a(t,I,i),P||(q=[u(b,"click",e[7]),u(_,"input",e[10]),u(M,"input",e[11]),u(z,"input",e[12]),u(B,"click",e[13])],P=!0)},p(t,[e]){1&e&&J!==(J=t[0].running?"Stop":"Start")&&m(x,J),t[0].running?U&&(U.d(1),U=null):U?U.p(t,e):(U=W(t),U.c(),U.m(y,E)),2&e&&v(_.value)!==t[1]&&p(_,t[1]),4&e&&v(M.value)!==t[2]&&p(M,t[2]),8&e&&z.value!==t[3]&&p(z,t[3]),16&e&&m(N,t[4]),32&e&&F!==(F=t[5]?"opacity: 0.7;":"")&&d(n,"style",F),t[5]?Q?Q.p(t,e):(Q=K(t),Q.c(),Q.m(I.parentNode,I)):Q&&(Q.d(1),Q=null)},i:t,o:t,d(t){t&&r(n),U&&U.d(),t&&r(H),Q&&Q.d(t),t&&r(I),P=!1,i(q)}}}function F(t,e,n){let i={running:!1,rows:10,columns:10,scrollOffset:40},s=0,o=1.5,l=50,a="0x0",r=!1;function c(t){t(),n(0,i),n(1,o),n(2,l),n(3,a),n(4,s=0),n(5,r=!1)}b((()=>{let t=()=>n(0,i.scrollOffset=window.innerWidth>1024?40:150,i);n(0,i=new N(document.getElementById("canvas"))),n(0,i.onEachGen=()=>n(4,s=i.generations),i),window.board=i,window.addEventListener("resize",(()=>{i.resize(),t()})),n(1,o=i.speed/1e3),n(2,l=i.cellSize),n(3,a=`${i.rows}x${i.columns}`),function(t){function e(e){if(e.target.matches(t)){var n;switch(e.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":case"touchcancel":n="mouseup";break;default:return}var i=e.changedTouches[0],s=i.clientX,o=i.pageX,l=window.pageXOffset,a=i.clientY,r=i.pageY,c=window.pageYOffset;0===o&&Math.floor(s)>Math.floor(o)||0===r&&Math.floor(a)>Math.floor(r)?(s-=l,a-=c):(s<o-l||a<r-c)&&(s=o-l,a=r-c);var h=new MouseEvent(n,{bubbles:!0,cancelable:!0,screenX:i.screenX,screenY:i.screenY,clientX:s,clientY:a,pageX:o,pageY:r,buttons:1,button:0,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey});i.target.dispatchEvent(h)}}document.addEventListener("touchstart",e,!0),document.addEventListener("touchmove",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("touchcancel",e,!0)}("canvas"),t()}));return t.$$.update=()=>{if(2&t.$$.dirty&&n(0,i.speed=1e3*o,i),5&t.$$.dirty&&(n(0,i.cellSize=l,i),i.resize?.()),9&t.$$.dirty){let t=(t,e)=>isNaN(t=parseInt(t))?e:t,[e,s]=a.split("x");n(0,i.rows=t(e,i.rows),i),n(0,i.columns=t(s,i.columns),i),i.resize?.()}},[i,o,l,a,s,r,c,()=>{i[i.running?"stop":"start"](),n(0,i),n(1,o),n(2,l),n(3,a)},()=>i.nextGeneration(),()=>i.fillBg().drawGame(),function(){o=v(this.value),n(1,o)},function(){l=v(this.value),n(2,l)},function(){a=this.value,n(3,a)},()=>n(5,r=!0),()=>c((()=>{i.plotExample("GOSPER_GLIDER_GUN"),n(3,a="50x50")})),()=>c((()=>i.plotRandom())),()=>n(5,r=!1)]}class H extends D{constructor(t){super(),T(this,t,F,B,o,{})}}function I(e){let n,i,s;return i=new H({}),{c(){var t;n=c("div"),(t=i.$$.fragment)&&t.c(),d(n,"class","main svelte-1sesw7b")},m(t,e){a(t,n,e),O(i,n,null),s=!0},p:t,i(t){s||(X(i.$$.fragment,t),s=!0)},o(t){!function(t,e,n,i){if(t&&t.o){if(Y.has(t))return;Y.add(t),(void 0).c.push((()=>{Y.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}(i.$$.fragment,t),s=!1},d(t){t&&r(n),z(i)}}}return new class extends D{constructor(t){super(),T(this,t,null,I,o,{})}}({target:document.body})}();
